<div class="container">
  <h1>Collaborate</h1>

  <div class="explanation">
    <h2>What are groups?</h2>
    <p>You can easily collaborate with your team or your students when managing annotations and collections of objects if
      you create a dedicated group. Groups allow you to manage access rights across multiple registered users. Regular
      group members receive annotation access for objects/collections associated with the group. Group owners receive
      annotation access and can add/remove other group members. Groups can also be helpful when managing viewing access to
      private objects, which remain unpublished to other Kompakkt users.</p>

    <h2>How do groups work with collections?</h2>
    <p>When you create a collection of Kompakkt objects you can annotate them regardless of their owners. This can be an
      effective way to collaborate as you can invite either other individual Kompakkt users, or non-registred users (via
      password-protection) to gain access rights to specific collections. If you need to continuously give access and/or
      annotation rights to a number of individuals to different objects / collections, creating a group will just make
      this process more efficient and will enable you to manage access rights centrally by managing the group membership.
      Note that groups do require all their members to be registered users.</p>
  </div>


  <div class="groups">
    <h2>Your groups</h2>

    <ng-container *ngIf="!(isAuthenticated$ | async); else authenticatedBlock">
      <p>You must be logged in to see your groups.
      </p>
    </ng-container>

    <ng-template #authenticatedBlock>
      <ng-container *ngIf="!(userInGroups$ | replayHasValue | async)">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      </ng-container>

      <ng-container *ngIf="userInGroups$ | async as groups; else noGroups">
        <ng-container *ngIf="groups.length > 0; else noGroups">
          <p>You are either the owner or a member of one of the following groups:</p>

          <div class="list">
            <div *ngFor="let group of groups">{{ group.name }}</div>
          </div>
        </ng-container>
      </ng-container>
      <ng-template #noGroups>
        <p>You are not a member of any groups yet.
        </p>

        <button mat-raised-button color="primary">Manage profile</button>
        <button mat-raised-button color="primary">New group</button>
      </ng-template>
    </ng-template>
  </div>

</div>
